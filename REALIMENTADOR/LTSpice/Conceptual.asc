Version 4
SHEET 1 7252 3776
WIRE 1232 -1808 1232 -1840
WIRE 1408 -1808 1408 -1840
WIRE 1568 -1808 1568 -1840
WIRE 1232 -1664 1232 -1728
WIRE 1408 -1664 1408 -1728
WIRE 1408 -1664 1232 -1664
WIRE 1568 -1664 1568 -1728
WIRE 1568 -1664 1408 -1664
WIRE 1696 -1664 1568 -1664
WIRE 1232 -1632 1232 -1664
WIRE 1408 -1632 1408 -1664
WIRE 1696 -1616 1696 -1664
WIRE 1232 -1520 1232 -1552
WIRE 1408 -1520 1408 -1552
WIRE 2608 -1248 2368 -1248
WIRE 3344 -1184 3248 -1184
WIRE 3536 -1184 3408 -1184
WIRE 2608 -1120 2608 -1248
WIRE 2608 -1120 2592 -1120
WIRE 2368 -1104 2368 -1248
WIRE 2368 -1104 1856 -1104
WIRE 2528 -1104 2368 -1104
WIRE 3248 -1088 3248 -1184
WIRE 3248 -1088 2592 -1088
WIRE 3344 -1088 3248 -1088
WIRE 3536 -1088 3536 -1184
WIRE 3536 -1088 3424 -1088
WIRE 4384 -1088 3536 -1088
WIRE 4464 -1088 4384 -1088
WIRE 3248 -1040 3248 -1088
WIRE 1856 -976 1856 -1104
WIRE 3248 -928 3248 -960
WIRE 1856 -848 1856 -896
WIRE 1984 -848 1856 -848
WIRE 2144 -848 2048 -848
WIRE 3296 -816 3296 -848
WIRE 3248 -800 3120 -800
WIRE 2688 -784 2688 -800
WIRE 1856 -768 1856 -848
WIRE 1984 -768 1856 -768
WIRE 2144 -768 2144 -848
WIRE 2144 -768 2064 -768
WIRE 3248 -752 3168 -752
WIRE 2304 -736 2176 -736
WIRE 2464 -736 2368 -736
WIRE 2576 -688 2576 -736
WIRE 3168 -688 3168 -752
WIRE 2512 -672 2480 -672
WIRE 2544 -672 2512 -672
WIRE 2688 -656 2688 -704
WIRE 2688 -656 2608 -656
WIRE 2768 -656 2688 -656
WIRE 2144 -640 2144 -768
WIRE 2176 -640 2176 -736
WIRE 2176 -640 2144 -640
WIRE 2288 -640 2176 -640
WIRE 2464 -640 2464 -736
WIRE 2464 -640 2368 -640
WIRE 2544 -640 2464 -640
WIRE 2624 -640 2608 -640
WIRE 2768 -640 2736 -640
WIRE 3120 -640 3120 -800
WIRE 3120 -640 2832 -640
WIRE 1856 -624 1856 -768
WIRE 1984 -624 1856 -624
WIRE 2736 -624 2736 -640
WIRE 2768 -624 2736 -624
WIRE 2144 -608 2144 -640
WIRE 2144 -608 2048 -608
WIRE 2736 -608 2736 -624
WIRE 2768 -608 2736 -608
WIRE 1296 -592 1248 -592
WIRE 1632 -592 1296 -592
WIRE 1856 -592 1712 -592
WIRE 1984 -592 1856 -592
WIRE 2464 -592 2464 -640
WIRE 2736 -592 2736 -608
WIRE 2768 -592 2736 -592
WIRE 2576 -576 2576 -624
WIRE 2624 -576 2624 -640
WIRE 1856 -560 1856 -592
WIRE 1248 -528 1248 -592
WIRE 3296 -528 3296 -736
WIRE 4080 -528 3296 -528
WIRE 4240 -528 4160 -528
WIRE 4464 -528 4464 -1088
WIRE 4464 -528 4240 -528
WIRE 5072 -528 4464 -528
WIRE 5120 -528 5072 -528
WIRE 5120 -512 5120 -528
WIRE 2464 -480 2464 -512
WIRE 2736 -480 2736 -592
WIRE 4240 -480 4240 -528
WIRE 1856 -432 1856 -480
WIRE 1248 -416 1248 -448
WIRE 3296 -400 3296 -528
WIRE 3120 -384 3120 -640
WIRE 3248 -384 3120 -384
WIRE 5120 -384 5120 -432
WIRE 4240 -368 4240 -416
WIRE 3248 -336 3120 -336
WIRE 2448 -272 2352 -272
WIRE 2640 -272 2448 -272
WIRE 3120 -256 3120 -336
WIRE 3296 -208 3296 -320
WIRE 3456 -208 3296 -208
WIRE 3120 -192 3120 -256
WIRE 2352 -160 2352 -272
WIRE 2352 -48 2352 -80
FLAG 4240 -368 0
FLAG 5120 -384 0
FLAG 3456 -208 VEE
FLAG 1232 -1840 VCC
FLAG 1232 -1520 VEE
FLAG 1568 -1840 5V
FLAG 1248 -416 0
FLAG 1696 -1616 0
FLAG 5072 -528 Vo
FLAG 1408 -1520 -15V
FLAG 1408 -1840 15V
FLAG 1296 -592 Vsin
FLAG 3168 -688 0
FLAG 3120 -256 5V
FLAG 2352 -48 0
FLAG 2448 -272 Vtriang
FLAG 2016 -576 -15V
FLAG 2016 -640 15V
FLAG 4384 -1088 Vf
FLAG 2576 -576 -15V
FLAG 2576 -736 15V
FLAG 2512 -672 Vtriang
FLAG 2624 -576 0
FLAG 2688 -800 5V
FLAG 2736 -480 0
FLAG 1856 -432 0
FLAG 2176 -640 error
FLAG 3296 -848 Vcc
FLAG 3248 -928 0
FLAG 2560 -1136 15V
FLAG 2560 -1072 -15V
FLAG 2464 -480 0
SYMBOL ind 4064 -512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Lf
SYMATTR Value 33µ
SYMBOL cap 4224 -480 R0
SYMATTR InstName Cf
SYMATTR Value 330n
SYMBOL res 5104 -528 R0
SYMATTR InstName RL
SYMATTR Value 8
SYMBOL voltage 1232 -1824 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName VCC
SYMATTR Value 30
SYMBOL voltage 1232 -1648 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName VSS
SYMATTR Value 30
SYMBOL voltage 1568 -1824 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 1248 -544 R0
WINDOW 3 -239 31 Left 2
WINDOW 0 -131 3 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 1.1 {freq})
SYMATTR InstName SENOIDAL
SYMBOL voltage 1408 -1824 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 15
SYMBOL voltage 1408 -1648 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 15
SYMBOL sw 3296 -720 M180
SYMATTR InstName S1
SYMBOL sw 3296 -416 R0
SYMATTR InstName S2
SYMBOL voltage 2352 -176 R0
WINDOW 3 -239 31 Left 2
WINDOW 0 -131 3 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(-1.5 1.5 0 2.5u 2.5u 0 5u)
SYMATTR InstName TRIANGULAR
SYMBOL res 1728 -608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 2016 -672 R0
SYMATTR InstName U3
SYMATTR Value AD817
SYMBOL xcomp_x11 2576 -720 R0
SYMATTR InstName U1
SYMATTR Value LM311
SYMBOL res 2672 -800 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL Digital\\or 2800 -688 R0
WINDOW 3 -8 36 Left 2
SYMATTR Value td=80n Vhigh=5 Vlow=0
SYMATTR InstName A1
SYMBOL res 1840 -992 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 2080 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {R}
SYMBOL res 1840 -576 R0
SYMATTR InstName R7
SYMATTR Value {R}
SYMBOL cap 2048 -864 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL res 3440 -1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 19k
SYMBOL res 3264 -944 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 2560 -1168 M0
SYMATTR InstName U2
SYMATTR Value AD817
SYMBOL cap 3408 -1200 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 82p
SYMBOL res 2272 -656 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 2448 -496 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL cap 2304 -752 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 12p
TEXT 2128 -1728 Left 2 !.tran 0 {STOP} {START} uic
TEXT 2128 -1536 Left 2 !.include UCC20520.301
TEXT 1088 -2008 Left 2 ;Fuentes
TEXT 2120 -1624 Left 2 ;Bibliotecas
TEXT 4992 -736 Left 6 ;Salida
TEXT 4160 -248 Left 4 ;Filtro
TEXT 2128 -1568 Left 2 !.include PHB27NQ10T.lib
TEXT 2128 -1504 Left 2 !.include BS170.301\n.include LM311.301
TEXT 2128 -1984 Left 2 ;Directivas SPICE
TEXT 1056 -760 Left 6 ;Entrada
TEXT 3408 48 Left 6 ;Etapa de salida
TEXT 2128 -1808 Left 2 !.options numdgt = 15
TEXT 2424 -1808 Left 2 ;Doble precision
TEXT 2128 -1776 Left 2 !.options plotwinsize = 0
TEXT 2440 -1776 Left 2 ;Deshabilitar la compresion
TEXT 2136 -1856 Left 2 !.four {freq} {Narm} -1 V(vo)
TEXT 2432 -1592 Left 2 !.model SW SW(Ron=.01 Roff=10Meg Vt=1)
TEXT 2128 -1448 Left 2 !.include AD817.301
TEXT 3152 -1880 Left 2 !.param freq=20k
TEXT 3152 -1808 Left 2 !.param T=1/{freq}
TEXT 3152 -1832 Left 2 !.param Narm table(freq, 1k, 9, 10k, 6, 20k, 3)
TEXT 2128 -1416 Left 2 !.include TL082.301
TEXT 1488 -792 Left 2 !.param R=100k
TEXT 1488 -736 Left 2 !.param C=12p
TEXT 1488 -768 Left 2 !.param fc=100k
TEXT 3152 -1776 Left 2 !.param STOP=(100u+11*{T})
TEXT 3152 -1752 Left 2 !.param START=(100u+{T})
RECTANGLE Normal 1040 -2032 1792 -1376
RECTANGLE Normal 2912 -1648 2096 -1360
RECTANGLE Normal 5376 -80 4880 -912
RECTANGLE Normal 4784 -1680 2096 -2032
RECTANGLE Normal 4400 -192 4016 -688
RECTANGLE Normal 1424 -336 1024 -896
